<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record id="annuaire_tree_view" model="ir.ui.view">
      <field name="name">ooto.annuaire.tree.view</field>
      <field name="model">hr.employee</field>
      <field name="arch" type="xml">
        <tree create="false" edit="false">
          <field name="name"/>
          <field name="department_id"/>
          <field name="job_id"/>
          <field name="work_email"/>
          <field name="mobile_phone"/>
        </tree>
      </field>
    </record>

    <record id="annuaire_form_view" model="ir.ui.view">
      <field name="name">ooto.annuaire.form.view</field>
      <field name="model">hr.employee</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <field name="company_id" invisible="1"/>
            <group>
              <group>
                <field name="image_1920" nolabel="1" widget='image' class="oe_avatar float-left" readonly="True"
                       options='{"preview_image":"image_128"}'/>
                <!--                <field name="image_1920" nolabel="1" widget='image' class="float-left oe_avatar" readonly="True"-->
                <!--                       options="{&quot;preview_image&quot;:&quot;image_medium&quot;}"/>-->

              </group>
              <group name="fields">
                <field name="name" invisible="True"/>
                <field name="work_email" invisible="True"/>
                <field name="job_id" invisible="True"/>
              </group>
            </group>
            <notebook>
              <page name="dynamic_fields_page" string="">
                <group name="parent">
                  <group name="fields">
                  </group>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <record id="annuaire_kanban_view" model="ir.ui.view">
      <field name="name">ooto.annuaire.kanban</field>
      <field name="model">hr.employee</field>
      <field name="priority">10</field>
      <field name="arch" type="xml">
        <kanban class="o_hr_employee_kanban" create="false">
          <field name="id"/>
          <templates>
            <t t-name="kanban-box">
              <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_hr_kanban_record">
                <field name="image_128" widget="image" class="o_kanban_image_fill_left o_hr_rounded_circle"
                       options="{'zoom': true, 'background': true, 'preventClicks': false}"/>
                <div class="oe_kanban_details">
                  <div id="textbox">
                    <strong>
                      <field name="name"/>
                    </strong>
                  </div>
                  <ul>
                    <li t-if="record.work_email.raw_value">
                      <field name="work_email"/>
                    </li>
                    <li t-if="record.job_id.raw_value">
                      <field name="job_id"/>
                    </li>
                  </ul>
                </div>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>

    <record id="view_ooto_annuaire_filter" model="ir.ui.view">
      <field name="name">hr.employee.annuaire.filter</field>
      <field name="model">hr.employee</field>
      <field name="arch" type="xml">
        <search string="Annuaire search">
          <field name="name"/>
          <field name="department_id"/>
          <field name="job_id"/>
          <field name="work_email"/>
          <field name="mobile_phone"/>
        </search>
      </field>
    </record>

    <record id="ooto_annuaire_action" model="ir.actions.act_window">
      <field name="name">Annuaire</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">hr.employee</field>
      <field name="view_mode">tree,form,kanban</field>
      <field name="binding_view_types">form</field>
      <field name="search_view_id" ref="ooto_annuaire.view_ooto_annuaire_filter"/>
      <field name="context">
        {'annuaire': True}
      </field>
      <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('annuaire_tree_view')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('annuaire_form_view')}),
            (0, 0, {'view_mode': 'kanban', 'view_id': ref('annuaire_kanban_view')})]"/>
    </record>

    <record id="employee_section_tree_view" model="ir.ui.view">
      <field name="name">annuaire.employee.section.tree.view</field>
      <field name="model">annuaire.employee.section</field>
      <field name="arch" type="xml">
        <tree editable="bottom">
          <field name="fields_id"/>
          <field name="is_visible_front_employee"/>
        </tree>
      </field>
    </record>

    <record id="associated_contacts_tree_view" model="ir.ui.view">
      <field name="name">annuaire.associated.contacts.tree.view</field>
      <field name="model">annuaire.associated.contacts</field>
      <field name="arch" type="xml">
        <tree editable="bottom">
          <field name="logo" string=" " widget="image" options='{"size": [50, 50]}'/>
        </tree>
      </field>
    </record>

    <record id="ooto_employee_section_action" model="ir.actions.act_window">
      <field name="name">Annuaire</field>
      <field name="res_model">annuaire.employee.section</field>
      <field name="view_mode">tree</field>
    </record>

    <menuitem id="menu_root_annuaire"
              name="Annuaire"
              parent="hr.menu_hr_root"
              action="ooto_annuaire_action"/>

    <menuitem id="menu_ooto_annuaire_configuration"
              name="Parameters annuaires"
              parent="hr.menu_human_resources_configuration"
              action="ooto_annuaire_action"
              sequence="0"/>

  </data>
</odoo>