<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record id="onboarding_task_email" model="mail.template">
      <field name="name">Onboarding: Task email template</field>
      <field name="model_id" ref="ooto_onboarding.model_hr_onboarding_task"/>
      <field name="subject">New Collaborators</field>
      <field name="email_from">&lt;${(user.email) | safe}&gt;</field>
      <field name="body_html" type="html">
        <table width="600" border="1" cellpadding="0" cellspacing="0" bgcolor="#fff"
               style="border:#f2f2f2 1px solid;">
          <tr>
            <td valign="top" style="padding: 0px 10px;">
              <div style="font-size: 13px; margin: 0px; padding: 0px;">
                Hello,
                <br/>
                <br/>
                Here are the new collaborator(s) of the week :
                <table>
                  % set employee_ids = object.get_all_new_employee()
                  %if employee_ids:
                    % for employee_id in employee_ids:
                        <tr>
                          <td width="75">
                            <img src="/web/image/hr.employee/${employee_id.id}/image_128" alt="Avatar"
                                 style="vertical-align:baseline; width: 64px; height: 64px; object-fit: cover;"/>
                          </td>
                          <td>
                            <strong>${employee_id.name}</strong>
                            <br/>
                            <span>Post: ${employee_id.job_id.name or ''}</span>
                          </td>
                      </tr>
                    % endfor
                  %endif
                </table>
              </div>
            </td>
          </tr>
        </table>
      </field>
    </record>
  </data>
</odoo>