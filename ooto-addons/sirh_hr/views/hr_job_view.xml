<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <!-- THIS PAR FOR JOBS-->

    <record model="ir.actions.act_window" id="action_hr_job_no_employee">
        <field name="name">Employees</field>
        <field name="res_model">hr.employee</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="context">{'search_default_job_id': active_id}</field>
        <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Add a new employee
              </p><p>
                With just a quick glance on the Odoo employee screen, you
                can easily find all the information you need for each person;
                contact data, job position, availability, etc.
              </p>
            </field>
    </record>

    <record id="hr_job_survey" model="ir.ui.view">
        <field name="name">hr.job.form1</field>
        <field name="model">hr.job</field>
        <field name="inherit_id" ref="hr.view_hr_job_form"/>
        <field name="arch" type="xml">

            <div name="button_box" position="inside">
                <button class="oe_stat_button"
                    icon="fa-users"
                    name="%(action_hr_job_no_employee)d"
                    type="action">
                    <field name="no_of_employee" widget="statinfo" string="Employees"/>
                </button>
            </div>
        </field>
    </record>

    <record id="act_employee_from_job" model="ir.actions.act_window">
      <field name="name">Employees</field>
      <field name="res_model">hr.employee</field>
      <field name="view_mode">kanban,form,tree</field>
      <field name="context">{
        "search_default_job_id": [active_id],
        "default_job_id": active_id}
      </field>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Add a new employee
        </p>
        <p>
          With just a quick glance on the Odoo employee screen, you
          can easily find all the information you need for each person;
          contact data, job position, availability, etc.
        </p>
      </field>
    </record>

    <record id="view_job_kanban_inherit" model="ir.ui.view">
      <field name="name">hr.job.kanban.inherit</field>
      <field name="model">hr.job</field>
      <field name="inherit_id" ref="hr.hr_job_view_kanban"/>
      <field name="arch" type="xml">
        <xpath expr="//div[@class='oe_kanban_global_click']" position="inside">
          <div class="container o_kanban_card_content">
            <div class="row">
              <div class="col-6 o_kanban_primary_left">
                <span>
                  <field name="no_of_employee"/>
                </span>
                <button class="btn btn-primary" name="%(act_employee_from_job)d" type="action">Employees</button>
              </div>
              <div class="col-6 o_kanban_primary_right">
              </div>
            </div>
          </div>
        </xpath>

      </field>
    </record>
    <record id="view_job_form_inherit" model="ir.ui.view">
      <field name="name">hr.job.form.inherit</field>
      <field name="model">hr.job</field>
      <field name="inherit_id" ref="hr.view_hr_job_form"/>
      <field name="arch" type="xml">
        <xpath expr="//sheet" position="inside">
          <group>
            <group string="Base salary range" name="Base salary range" groups="sirh_hr.group_base_salary_range">
              <field name="minimal_salary" groups="sirh_hr.group_base_salary_range"/>
              <field name="maximum_salary" groups="sirh_hr.group_base_salary_range"/>
            </group>
          </group>
        </xpath>
      </field>
    </record>
  </data>
</odoo>